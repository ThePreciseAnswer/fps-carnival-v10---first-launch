namespace SpriteKind {
    export const NonTouchableObject = SpriteKind.create()
    export const BallLauncher = SpriteKind.create()
    export const BallStrip = SpriteKind.create()
    export const Target = SpriteKind.create()
    export const DecoyBall = SpriteKind.create()
    export const DuckHitter = SpriteKind.create()
    export const YellowDuck = SpriteKind.create()
    export const Reloading = SpriteKind.create()
    export const RedDuck = SpriteKind.create()
    export const GreenDuck = SpriteKind.create()
    export const EndAnimation = SpriteKind.create()
    export const Tutorial = SpriteKind.create()
    export const CounterGuyO = SpriteKind.create()
    export const ExplosiveDuck = SpriteKind.create()
    export const LotteryDuck = SpriteKind.create()
    export const BigDuck = SpriteKind.create()
    export const TimeLotDuck = SpriteKind.create()
    export const SmallDuck = SpriteKind.create()
}
sprites.onOverlap(SpriteKind.DuckHitter, SpriteKind.SmallDuck, function (sprite2, otherSprite2) {
    music.play(music.createSoundEffect(WaveShape.Triangle, 300, 200, 255, 0, 500, SoundExpressionEffect.Warble, InterpolationCurve.Curve), music.PlaybackMode.InBackground)
    otherSprite2.setKind(SpriteKind.NonTouchableObject)
    otherSprite2.vx = 0
    otherSprite2.vy = -40
    SCORE += SCORE * 1.2
    SCORE = Math.round(SCORE)
    timer.after(50, function () {
        otherSprite2.ay = 60
    })
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (IfFPSCarnivalGameActive == true) {
        if (TargetActive != 1 && TargetSpr.y < 59 && ReadyController == 1) {
            controller.moveSprite(TargetSpr, 0, 0)
            TargetActive = 1
            TargetSpr.vx = 0
            sprites.destroyAllSpritesOfKind(SpriteKind.BallLauncher)
            DecoyBallSpr = sprites.create(assets.image`Ball`, SpriteKind.DecoyBall)
            DecoyBallSpr.y = 114
            DecoyBallSpr.x = TargetSpr.x
            DecoyBallSpr.z = 10
            DecoyBallSpr.vy = -50
            music.play(music.createSoundEffect(WaveShape.Noise, 137, 2808, 255, 0, 750, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.InBackground)
            sprites.destroyAllSpritesOfKind(SpriteKind.BallLauncher)
        }
    } else {
        if (FPSCarnivalSetup == true) {
            FPSCarnivalSetup = false
            sprites.destroyAllSpritesOfKind(SpriteKind.CounterGuyO)
            sprites.destroyAllSpritesOfKind(SpriteKind.Tutorial)
            scene.setBackgroundImage(img`
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                `)
            FPSCarnivalSetupSpr()
            Countdown()
        }
    }
})
function SDPBottomHalf (Duck: Sprite) {
    Duck.z = 5
    Duck.setPosition(160, 50)
    Duck.vx = -30
    Duck.setFlag(SpriteFlag.AutoDestroy, true)
}
function FPSCarnivalSetupSpr () {
    IfFPSCarnivalGameActive = true
    BackwardialWaves = sprites.create(assets.image`BackwardialWaves`, SpriteKind.NonTouchableObject)
    BackwardialWaves.z = 4
    FrontalWaves = sprites.create(assets.image`FrontalWaves`, SpriteKind.NonTouchableObject)
    FrontalWaves.z = 6
    FrontalDrapes = sprites.create(assets.image`CarnivalBG`, SpriteKind.Player)
    FrontalDrapes.z = 8
    TargetActive = 0
    ReadyController = 1
    animation.runImageAnimation(
    FrontalWaves,
    assets.animation`FrontalWavesAnim`,
    200,
    true
    )
    animation.runImageAnimation(
    BackwardialWaves,
    assets.animation`BackwardialWavesAnim`,
    250,
    true
    )
    InitalizeInGameTools()
}
function Anim () {
    timer.after(200, function () {
        ReadyController = 0
        TargetActive = 0
        DecoyBallSpr.setKind(SpriteKind.DecoyBall)
        sprites.destroy(DecoyBallSpr)
        EndAnimation2 = sprites.create(assets.image`Reloading`, SpriteKind.Reloading)
        animation.runImageAnimation(
        EndAnimation2,
        assets.animation`ReloadingAnim`,
        25,
        false
        )
        EndAnimation2.y = 112
        EndAnimation2.z = 11
        timer.after(475, function () {
            ResetBall()
            timer.after(100, function () {
                sprites.destroyAllSpritesOfKind(SpriteKind.Reloading)
                controller.moveSprite(TargetSpr, 0, 100)
                ReadyController = 1
            })
        })
    })
}
sprites.onOverlap(SpriteKind.DuckHitter, SpriteKind.GreenDuck, function (sprite, otherSprite) {
    music.play(music.createSoundEffect(WaveShape.Sine, 3075, 200, 255, 0, 150, SoundExpressionEffect.Tremolo, InterpolationCurve.Logarithmic), music.PlaybackMode.InBackground)
    otherSprite.setKind(SpriteKind.NonTouchableObject)
    otherSprite.vx = 0
    otherSprite.vy = -40
    CountDown += 5
    timer.after(50, function () {
        otherSprite.ay = 60
    })
})
function ResetBall () {
    sprites.destroyAllSpritesOfKind(SpriteKind.BallLauncher)
    Ball = sprites.create(assets.image`Ball`, SpriteKind.BallLauncher)
    Ball.z = 10
    Ball.setPosition(TargetSpr.x, 114)
    Ball.setStayInScreen(true)
}
function GreenduckFuncF () {
    GreenDuckSpr = sprites.create(assets.image`GreenDuck`, SpriteKind.GreenDuck)
    GreenDuckSpr.z = 3
    GreenDuckSpr.setPosition(0, 13)
    GreenDuckSpr.vx = 60
    GreenDuckSpr.setFlag(SpriteFlag.AutoDestroy, true)
    animation.runImageAnimation(
    GreenDuckSpr,
    assets.animation`DuckAnimationGF`,
    200,
    true
    )
}
sprites.onOverlap(SpriteKind.DuckHitter, SpriteKind.LotteryDuck, function (sprite2, otherSprite2) {
    otherSprite2.startEffect(effects.warmRadial)
    otherSprite2.sayText("JACKPOT!", 2000, true)
    music.play(music.createSoundEffect(WaveShape.Noise, 1, 3313, 255, 37, 500, SoundExpressionEffect.Vibrato, InterpolationCurve.Logarithmic), music.PlaybackMode.InBackground)
    otherSprite2.setKind(SpriteKind.NonTouchableObject)
    otherSprite2.vx = 0
    otherSprite2.vy = -40
    SCORE += 8
    timer.after(50, function () {
        otherSprite2.ay = 60
    })
})
sprites.onOverlap(SpriteKind.DuckHitter, SpriteKind.BigDuck, function (sprite2, otherSprite2) {
    music.play(music.createSoundEffect(WaveShape.Triangle, 300, 200, 255, 0, 500, SoundExpressionEffect.Warble, InterpolationCurve.Curve), music.PlaybackMode.InBackground)
    otherSprite2.setKind(SpriteKind.NonTouchableObject)
    otherSprite2.vx = 0
    otherSprite2.vy = -40
    timer.after(50, function () {
        otherSprite2.ay = 60
    })
})
sprites.onOverlap(SpriteKind.DuckHitter, SpriteKind.YellowDuck, function (sprite2, otherSprite2) {
    music.play(music.createSoundEffect(WaveShape.Sine, 200, 600, 255, 0, 150, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.InBackground)
    otherSprite2.setKind(SpriteKind.NonTouchableObject)
    otherSprite2.vx = 0
    otherSprite2.vy = -40
    SCORE += 4
    timer.after(50, function () {
        otherSprite2.ay = 60
    })
})
sprites.onOverlap(SpriteKind.DuckHitter, SpriteKind.ExplosiveDuck, function (sprite2, otherSprite2) {
    scene.cameraShake(4, 500)
    music.play(music.createSoundEffect(WaveShape.Noise, 2333, 600, 255, 0, 500, SoundExpressionEffect.Warble, InterpolationCurve.Linear), music.PlaybackMode.InBackground)
    otherSprite2.setKind(SpriteKind.NonTouchableObject)
    otherSprite2.vx = 0
    otherSprite2.vy = -40
    for (let index = 0; index < 5; index++) {
        ExplosionBall = sprites.create(assets.image`ModdedMultiball`, SpriteKind.DuckHitter)
        ExplosionBall.setPosition(otherSprite2.x, otherSprite2.y)
        ExplosionBall.vx = randint(randint(-100, -50), randint(50, 100))
        ExplosionBall.vy = randint(-100, -50)
        ExplosionBall.z = 9
        ExplosionBall.setFlag(SpriteFlag.AutoDestroy, true)
    }
    timer.after(50, function () {
        otherSprite2.ay = 60
    })
})
function InitalizeInGameTools () {
    Ball = sprites.create(assets.image`Ball`, SpriteKind.BallLauncher)
    Ball.z = 10
    Ball.setPosition(80, 114)
    TargetSpr = sprites.create(assets.image`Target`, SpriteKind.Target)
    TargetSpr.setPosition(80, 114)
    TargetSpr.z = 9
    controller.moveSprite(TargetSpr, 0, 100)
    Ball.setStayInScreen(true)
    TargetSpr.setStayInScreen(true)
}
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    if (IfFPSCarnivalGameActive == true) {
        if (TargetActive == 0 && ReadyController == 1) {
            Ball.vx = -50
            TargetSpr.vx = -50
        }
    } else {
        if (TutorialNumber > 0) {
            TutorialNumber += -1
        }
    }
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    if (IfFPSCarnivalGameActive == true) {
        if (TargetActive == 0 && ReadyController == 1) {
            Ball.vx = 50
            TargetSpr.vx = 50
        }
    } else {
        if (TutorialNumber < 5) {
            TutorialNumber += 1
        }
    }
})
sprites.onOverlap(SpriteKind.DuckHitter, SpriteKind.TimeLotDuck, function (sprite2, otherSprite2) {
    otherSprite2.startEffect(effects.warmRadial)
    otherSprite2.sayText("PAST NOON", 2000, true)
    music.play(music.createSoundEffect(WaveShape.Noise, 1, 5000, 255, 34, 500, SoundExpressionEffect.Vibrato, InterpolationCurve.Logarithmic), music.PlaybackMode.InBackground)
    otherSprite2.setKind(SpriteKind.NonTouchableObject)
    otherSprite2.vx = 0
    otherSprite2.vy = -40
    CountDown += 8
    timer.after(50, function () {
        otherSprite2.ay = 60
    })
})
sprites.onOverlap(SpriteKind.DuckHitter, SpriteKind.RedDuck, function (sprite3, otherSprite3) {
    music.play(music.createSoundEffect(WaveShape.Sine, 600, 200, 255, 0, 150, SoundExpressionEffect.Warble, InterpolationCurve.Linear), music.PlaybackMode.InBackground)
    otherSprite3.setKind(SpriteKind.NonTouchableObject)
    otherSprite3.vx = 0
    otherSprite3.vy = -40
    SCORE += -4
    CountDown += -3
    timer.after(50, function () {
        otherSprite3.ay = 60
    })
})
function Countdown () {
    CountDownOver = 0
    CounterGuyv2 = sprites.create(img`
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        `, SpriteKind.NonTouchableObject)
    CounterGuyv2.z = 11
    animation.runImageAnimation(
    CounterGuyv2,
    assets.animation`CounterGuy0`,
    1000,
    false
    )
    timer.after(3000, function () {
        animation.runMovementAnimation(
        CounterGuyv2,
        animation.animationPresets(animation.easeDown),
        2000,
        false
        )
        timer.after(1500, function () {
            CountDownOver = 1
            Points = textsprite.create("")
            Points.z = 14
            Points.setOutline(1, 4)
            Points.setPosition(130, 10)
            animation.runMovementAnimation(
            Points,
            animation.animationPresets(animation.bobbing),
            3000,
            true
            )
            SCORE = 0
        })
        timer.background(function () {
            timer.after(1500, function () {
                CountDownP = textsprite.create("")
                CountDownP.z = 14
                CountDownP.setOutline(1, 4)
                CountDownP.setPosition(27, 10)
                sprites.destroy(CounterGuyv2)
                animation.runMovementAnimation(
                CountDownP,
                animation.animationPresets(animation.bobbing),
                3000,
                true
                )
                CountDown = 35
                FinalScreen = 0
            })
        })
    })
}
function GreenduckFunc () {
    GreenDuckSpr = sprites.create(assets.image`GreenDuck`, SpriteKind.GreenDuck)
    GreenDuckSpr.z = 5
    GreenDuckSpr.setPosition(160, 50)
    GreenDuckSpr.vx = -30
    GreenDuckSpr.setFlag(SpriteFlag.AutoDestroy, true)
    animation.runImageAnimation(
    GreenDuckSpr,
    assets.animation`DuckAnimationG`,
    200,
    true
    )
}
function ModdedDucksMode () {
    if (Math.percentChance(50)) {
        if (Math.percentChance(80)) {
            if (Math.percentChance(90)) {
                YellowDuckSpr = sprites.create(assets.image`Duck`, SpriteKind.YellowDuck)
                YellowDuckSpr.z = 5
                YellowDuckSpr.setPosition(160, 50)
                YellowDuckSpr.vx = -30
                YellowDuckSpr.setFlag(SpriteFlag.AutoDestroy, true)
                animation.runImageAnimation(
                YellowDuckSpr,
                assets.animation`DuckAnimation`,
                200,
                true
                )
            } else {
                GreenduckFunc()
            }
        } else if (Math.percentChance(90)) {
            RedDuckSpr = sprites.create(assets.image`RedDuck`, SpriteKind.RedDuck)
            RedDuckSpr.z = 5
            RedDuckSpr.setPosition(160, 50)
            RedDuckSpr.vx = -30
            RedDuckSpr.setFlag(SpriteFlag.AutoDestroy, true)
            animation.runImageAnimation(
            RedDuckSpr,
            assets.animation`DuckAnimation0`,
            200,
            true
            )
        } else {
            GreenduckFunc()
        }
    } else {
        ModPickerPercentile = randint(1, 75)
        if (ModPickerPercentile < 25) {
            ExplosiveDuckSpr = sprites.create(assets.image`ModdedExpansionDuck`, SpriteKind.ExplosiveDuck)
            SDPBottomHalf(ExplosiveDuckSpr)
            animation.runImageAnimation(
            ExplosiveDuckSpr,
            assets.animation`ExplosionDuck`,
            200,
            true
            )
        } else {
            if (ModPickerPercentile < 50) {
                BigDuckorSmallDuck = randint(1, 2)
                if (BigDuckorSmallDuck == 1) {
                    SizeDuck = sprites.create(assets.image`Duck`, SpriteKind.BigDuck)
                    SDPBottomHalf(SizeDuck)
                    animation.runImageAnimation(
                    SizeDuck,
                    assets.animation`DuckAnimation`,
                    200,
                    true
                    )
                    SizeDuck.changeScale(2, ScaleAnchor.Middle)
                } else {
                    SizeDuck = sprites.create(assets.image`Duck`, SpriteKind.SmallDuck)
                    SDPBottomHalf(SizeDuck)
                    animation.runImageAnimation(
                    SizeDuck,
                    assets.animation`DuckAnimation`,
                    200,
                    true
                    )
                    SizeDuck.changeScale(-0.4, ScaleAnchor.Middle)
                }
            } else {
                MorePointsorMoreTime = randint(1, 2)
                if (MorePointsorMoreTime == 1) {
                    LotteryDuckSpr = sprites.create(assets.image`ModdedExpansionDuck`, SpriteKind.LotteryDuck)
                    SDPBottomHalf(LotteryDuckSpr)
                    animation.runImageAnimation(
                    LotteryDuckSpr,
                    assets.animation`LotteryDuck`,
                    200,
                    true
                    )
                } else {
                    LotteryDuckSpr = sprites.create(assets.image`ModdedExpansionDuck`, SpriteKind.TimeLotDuck)
                    SDPBottomHalf(LotteryDuckSpr)
                    animation.runImageAnimation(
                    LotteryDuckSpr,
                    assets.animation`ClockDuck`,
                    200,
                    true
                    )
                }
            }
        }
    }
}
let LotteryDuckSpr: Sprite = null
let MorePointsorMoreTime = 0
let SizeDuck: Sprite = null
let BigDuckorSmallDuck = 0
let ExplosiveDuckSpr: Sprite = null
let ModPickerPercentile = 0
let RedDuckSpr: Sprite = null
let YellowDuckSpr: Sprite = null
let FinalScreen = 0
let CountDownP: TextSprite = null
let Points: TextSprite = null
let CounterGuyv2: Sprite = null
let CountDownOver = 0
let ExplosionBall: Sprite = null
let GreenDuckSpr: Sprite = null
let Ball: Sprite = null
let CountDown = 0
let EndAnimation2: Sprite = null
let FrontalDrapes: Sprite = null
let FrontalWaves: Sprite = null
let BackwardialWaves: Sprite = null
let DecoyBallSpr: Sprite = null
let ReadyController = 0
let TargetSpr: Sprite = null
let TargetActive = 0
let IfFPSCarnivalGameActive = false
let SCORE = 0
let TutorialNumber = 0
let FPSCarnivalSetup = false
let ModdedDucks = 0
if (game.ask("Activate Modded Ducks!", "Warning: May be fun!")) {
    ModdedDucks = 1
} else {
    ModdedDucks = 0
}
FPSCarnivalSetup = true
scene.setBackgroundImage(assets.image`Logo`)
let CounterGuy = sprites.create(img`
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    333333333333333333333333333333333333333333333
    `, SpriteKind.CounterGuyO)
animation.runImageAnimation(
CounterGuy,
assets.animation`CounterGuy`,
250,
true
)
CounterGuy.setPosition(23, 90)
let Tutorial = sprites.create(assets.image`Tut1`, SpriteKind.Tutorial)
Tutorial.setPosition(100, 80)
TutorialNumber = 0
let GuySpeak = 500
CounterGuy.sayText("Welcome!", 1000, true)
timer.after(GuySpeak + 500, function () {
    CounterGuy.sayText("Check", GuySpeak, true)
    timer.after(GuySpeak, function () {
        CounterGuy.sayText("Tutorial", GuySpeak, true)
        timer.after(GuySpeak, function () {
            CounterGuy.sayText("For", GuySpeak, true)
            timer.after(GuySpeak, function () {
                CounterGuy.sayText("Info", GuySpeak, true)
                timer.after(GuySpeak, function () {
                    CounterGuy.sayText("Then", GuySpeak, true)
                    timer.after(GuySpeak, function () {
                        CounterGuy.sayText("Press", GuySpeak, true)
                        timer.after(GuySpeak, function () {
                            CounterGuy.sayText("A!", 1000, true)
                        })
                    })
                })
            })
        })
    })
})
game.onUpdateInterval(1, function () {
    if (IfFPSCarnivalGameActive == true) {
        if (TargetActive == 1) {
            if (DecoyBallSpr.y < TargetSpr.y + 20) {
                if (TargetSpr.y < 50) {
                    DecoyBallSpr.scale += -0.3
                } else {
                    DecoyBallSpr.scale += -0.15
                }
            } else {
                DecoyBallSpr.scale += 0.1
            }
        }
    }
})
game.onUpdateInterval(1, function () {
    if (IfFPSCarnivalGameActive == true) {
        if (TargetActive == 1) {
            if (DecoyBallSpr.y <= TargetSpr.y) {
                DecoyBallSpr.vy = 0
                DecoyBallSpr.setKind(SpriteKind.DuckHitter)
                Anim()
            }
        }
    }
})
game.onUpdate(function () {
    if (CountDownOver == 1) {
        Points.setText("Points: " + SCORE)
    }
})
game.onUpdate(function () {
    if (CountDownOver == 1) {
        Points.setText("Points: " + SCORE)
    }
})
game.onUpdate(function () {
    if (CountDownOver == 1) {
        CountDownP.setText("Time: " + CountDown)
    }
})
game.onUpdateInterval(2000, function () {
    if (IfFPSCarnivalGameActive == true && CountDownOver == 1) {
        if (ModdedDucks == 1) {
            ModdedDucksMode()
        } else {
            if (Math.percentChance(80)) {
                if (Math.percentChance(90)) {
                    YellowDuckSpr = sprites.create(assets.image`Duck`, SpriteKind.YellowDuck)
                    YellowDuckSpr.z = 5
                    YellowDuckSpr.setPosition(160, 50)
                    YellowDuckSpr.vx = -30
                    YellowDuckSpr.setFlag(SpriteFlag.AutoDestroy, true)
                    animation.runImageAnimation(
                    YellowDuckSpr,
                    assets.animation`DuckAnimation`,
                    200,
                    true
                    )
                } else {
                    GreenduckFunc()
                }
            } else if (Math.percentChance(90)) {
                RedDuckSpr = sprites.create(assets.image`RedDuck`, SpriteKind.RedDuck)
                RedDuckSpr.z = 5
                RedDuckSpr.setPosition(160, 50)
                RedDuckSpr.vx = -30
                RedDuckSpr.setFlag(SpriteFlag.AutoDestroy, true)
                animation.runImageAnimation(
                RedDuckSpr,
                assets.animation`DuckAnimation0`,
                200,
                true
                )
            } else {
                GreenduckFunc()
            }
        }
    }
})
game.onUpdate(function () {
    if (IfFPSCarnivalGameActive == false && FPSCarnivalSetup == true) {
        if (TutorialNumber == 0) {
            Tutorial.setImage(assets.image`Tut1`)
        } else if (TutorialNumber == 1) {
            Tutorial.setImage(assets.image`Tut2`)
        } else if (TutorialNumber == 2) {
            Tutorial.setImage(assets.image`Tut3`)
        } else if (TutorialNumber == 3) {
            Tutorial.setImage(assets.image`Tut4`)
        } else if (TutorialNumber == 4) {
            Tutorial.setImage(assets.image`Tut5`)
        }
    }
})
game.onUpdateInterval(1000, function () {
    if (IfFPSCarnivalGameActive == true && CountDownOver == 1) {
        if (Math.percentChance(80)) {
            if (Math.percentChance(90)) {
                YellowDuckSpr = sprites.create(assets.image`Duck`, SpriteKind.YellowDuck)
                YellowDuckSpr.z = 3
                YellowDuckSpr.setPosition(0, 13)
                YellowDuckSpr.vx = 60
                YellowDuckSpr.setFlag(SpriteFlag.AutoDestroy, true)
                animation.runImageAnimation(
                YellowDuckSpr,
                assets.animation`DuckAnimationF0`,
                200,
                true
                )
            } else {
                GreenduckFuncF()
            }
        } else if (Math.percentChance(90)) {
            RedDuckSpr = sprites.create(assets.image`RedDuck`, SpriteKind.RedDuck)
            RedDuckSpr.z = 3
            RedDuckSpr.setPosition(0, 13)
            RedDuckSpr.vx = 60
            RedDuckSpr.setFlag(SpriteFlag.AutoDestroy, true)
            animation.runImageAnimation(
            RedDuckSpr,
            assets.animation`DuckAnimationF`,
            200,
            true
            )
        } else {
            GreenduckFuncF()
        }
    }
})
game.onUpdateInterval(1000, function () {
    if (CountDownOver == 1) {
        if (CountDown > 0) {
            CountDown += -1
        } else {
            if (FinalScreen == 0) {
                FinalScreen = 1
                EndAnimation2 = sprites.create(assets.image`AnimPlaceHolder`, SpriteKind.EndAnimation)
                EndAnimation2.z = 18
                ReadyController = 0
                if (SCORE >= 100) {
                    animation.runImageAnimation(
                    EndAnimation2,
                    assets.animation`Good Animation`,
                    400,
                    false
                    )
                    timer.after(2800, function () {
                        game.reset()
                    })
                } else {
                    animation.runImageAnimation(
                    EndAnimation2,
                    assets.animation`Bad Animation`,
                    400,
                    false
                    )
                    timer.after(2800, function () {
                        game.reset()
                    })
                }
            }
        }
    }
})
